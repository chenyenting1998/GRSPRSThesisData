document()
# do not save this file
pacman::p_load(usethat,testthat,rmarkdown, roxygen2, knitr, devtools)
has_devel()
document()
# do not save this file
pacman::p_load(usethat,testthat,rmarkdown, roxygen2, knitr, devtools, readxl)
# read files
read_xlsx("xlsx/LGD_2006_polychaeta_size.xlsx")
read_xlsx("xlsx/coarse_taxa.xlsx")
# read files
read_xlsx("xlsx/biovolume_method.xlsx")
# read files
biovolume_method <- read_xlsx("xlsx/biovolume_method.xlsx")
coarse_taxa <- read_xlsx("xlsx/coarse_taxa.xlsx")
use_data(biovolume_method, overwrite = T)
use_data(coarse_taxa, overwrite = T)
document()
document()
knitr::opts_chunk$set(echo = TRUE)
pacman::p_load(readxl, # .xlsx
writexl,
dplyr, # data wrangling
tidyr,
ggplot2, # ggplot
GGally,
ggrepel,
ggdendro,
ggtern,
vegan, # analysis packages
knitr,
corrplot,
Hmisc,
BenthicPro,
sizeSpectra,
iNEXT,
ecomaestro, # self-made packages for lazy purposes
easypipe,
Polychrome)
# read progress
# source("source/plot_nMDS_func.R")
# source("source/ggplot_theme.R")
source("analysis/Environmental_data.R")
# read progress
# source("source/plot_nMDS_func.R")
# source("source/ggplot_theme.R")
source("analysis_all_cruises/Environmental_data.R")
# read progress
# source("source/plot_nMDS_func.R")
# source("source/ggplot_theme.R")
source("analysis_all_cruises/Environmental_data.R")
source("analysis_all_cruises/Biological_data.R")
source("analysis_all_cruises/Biological_data.R")
pacman::p_load(readxl, # .xlsx
writexl,
dplyr, # data wrangling
tidyr,
ggplot2, # ggplot
GGally,
ggrepel,
ggdendro,
ggtern,
vegan, # analysis packages
knitr,
corrplot,
Hmisc,
BenthicPro,
sizeSpectra,
iNEXT,
ecomaestro, # self-made packages for lazy purposes
easypipe,
Polychrome)
# read progress
# source("source/plot_nMDS_func.R")
# source("source/ggplot_theme.R")
source("analysis_all_cruises/Environmental_data.R")
production_parameter <- read_xlsx("xlsx/BenthicPB_import.xlsx")
# read files
biovolume_methods <- read_xlsx("xlsx/biovolume_method.xlsx")
use_data(biovolume_methods, overwrite = T)
coarse_taxa <- read_xlsx("xlsx/coarse_taxa.xlsx")
use_data(coarse_taxa, overwrite = T)
conversion_factors <- read_xlsx("xlsx/BenthicPB_import.xlsx", sheet = 1)
conversion_factors
View(conversion_factors)
use_data(conversion_factors, overwrite = T)
conversion_factors[conversion_factors$Conversion_factors == "J / mgWM",]
conversion_factors <- read_xlsx("xlsx/BenthicPB_import.xlsx", sheet = 1)
use_data(conversion_factors, overwrite = T)
View(conversion_factors))
View(conversion_factors)
conversion_factors <- read_xlsx("xlsx/BenthicPB_import.xlsx", sheet = 1)
View(conversion_factors)
use_data(conversion_factors, overwrite = T)
conversion_factors[conversion_factors$Conversion_factors == "J / mgWM",]
## ANN parameters --------------------------------------------------------
ANN_parameters <- read_xlsx("xlsx/BenthicPB_import.xlsx", sheet = 2)
ANN_parameters$
ConFac_j2mgwm <- conversion_factors[conversion_factors$Conversion_factors == "J / mgWM",]
Viiew(ANN_parameters)
View(ANN_parameters)
## ANN parameters --------------------------------------------------------
ANN_parameters <- read_xlsx("xlsx/BenthicPB_import.xlsx", sheet = 2)
View(ANN_parameters)
ConFac_j2mgwm <- conversion_factors[conversion_factors$Conversion_factors == "J / mgWM",]
ConFac_j2mgwm
mgc <- conversion_factors[conversion_factors$Conversion_factors == "J / mgC",]
mgwm <- conversion_factors[conversion_factors$Conversion_factors == "J / mgWM",]
mgc <- conversion_factors[conversion_factors$Conversion_factors == "J / mgC",]
View(mgwm)
## ANN parameters --------------------------------------------------------
ANN_parameters <- read_xlsx("xlsx/BenthicPB_import.xlsx", sheet = 2)
View(mgc)
View(mgwm)
mgwm <- conversion_factors[conversion_factors$Conversion_factors == "J / mgWM", c("Taxon", "Mean")]
View(mgwm)
mgwm <- conversion_factors[conversion_factors$Conversion_factors == "J / mgWM", c("Taxon", "Mean")]
mgc <- conversion_factors[conversion_factors$Conversion_factors == "J / mgC", c("Taxon", "Mean")]
match(ANN_parameters$Taxon, mgwm$Taxon)
mgwm[match(ANN_parameters$Taxon, mgwm$Taxon),]
?match
1:5
match(1:5, c(5,5,5,1,2,3,4))
1:5[match(1:5, c(5,5,5,1,2,3,4))]
(1:5)[match(1:5, c(5,5,5,1,2,3,4))]
c(5,5,5,1,2,3,4)[match(1:5, c(5,5,5,1,2,3,4))]
mgwm[match(ANN_parameters$Taxon, mgwm$Taxon),]
mgwm[match(ANN_parameters$Taxon, mgwm$Taxon), "Mean"]
mgc[match(ANN_parameters$Taxon, mgc$Taxon), "Mean"]
1:10 %in% c(1,3,5,9)
match(1:10 , c(1,3,5,9))
c(1,3,5,9)[match(1:10 , c(1,3,5,9))]
mgwm[match(ANN_parameters$Taxon, mgwm$Taxon)]
mgwm[match(ANN_parameters$Taxon, mgwm$Taxon),]
match(mgwm$Taxon, ANN_parameters$Taxon)
a <- c("a", "b", "c")
b <- c("a", "c", "b")
match(a, b)
a[match(a, b)]
mgwm[match(mgwm$Taxon, ANN_parameters$Taxon)] %>% View
mgwm[match(mgwm$Taxon, ANN_parameters$Taxon),] %>% View
## ANN parameters --------------------------------------------------------
ANN_parameters <- read_xlsx("xlsx/BenthicPB_import.xlsx", sheet = 2)
View(ANN_parameters)
## ANN parameters --------------------------------------------------------
ANN_parameters <- read_xlsx("xlsx/BenthicPB_import.xlsx", sheet = 2)
mgwm <- conversion_factors[conversion_factors$Conversion_factors == "J / mgWM", c("Taxon", "Mean")]
mgc <- conversion_factors[conversion_factors$Conversion_factors == "J / mgC", c("Taxon", "Mean")]
## ANN parameters --------------------------------------------------------
ANN_parameters <- read_xlsx("xlsx/BenthicPB_import.xlsx", sheet = 2)
mgwm <- conversion_factors[conversion_factors$Conversion_factors == "J / mgWM", c("Taxon", "Mean")]
mgc <- conversion_factors[conversion_factors$Conversion_factors == "J / mgC", c("Taxon", "Mean")]
mgwm[match(mgwm$Taxon, ANN_parameters$Taxon),] %>% View
mgwm[match(ANN_parameters$Taxon, mgwm$Taxon),] %>% View
## ANN parameters --------------------------------------------------------
ANN_parameters <- read_xlsx("xlsx/BenthicPB_import.xlsx", sheet = 2)
mgwm <- conversion_factors[conversion_factors$Conversion_factors == "J / mgWM", c("Taxon", "Mean")]
mgc <- conversion_factors[conversion_factors$Conversion_factors == "J / mgC", c("Taxon", "Mean")]
mgc[match(ANN_parameters$Taxon, mgc$Taxon),] %>% View
## ANN parameters --------------------------------------------------------
ANN_parameters <- read_xlsx("xlsx/BenthicPB_import.xlsx", sheet = 2)
# View(ANN_parameters)
mgwm <- conversion_factors[conversion_factors$Conversion_factors == "J / mgWM", c("Taxon", "Mean")]
mgc <- conversion_factors[conversion_factors$Conversion_factors == "J / mgC", c("Taxon", "Mean")]
ANN_parameters$ConFac_j2mgwm <- mgwm[match(ANN_parameters$Taxon, mgwm$Taxon), "Mean"]
ANN_parameters$ConFac_j2mgc  <- mgc[match(ANN_parameters$Taxon, mgc$Taxon), "Mean"]
use_data(ANN_parameters, overwrite = T)
document()
colnames(conversion_factors)
document()
colnames(ANN_parameters)
## coarse taxa -----------------------------------------------------------
coarse_taxa <- read_xlsx("xlsx/coarse_taxa.xlsx")
use_data(coarse_taxa, overwrite = T)
document()
## ANN parameters --------------------------------------------------------
ANN_parameters <- read_xlsx("xlsx/BenthicPB_import.xlsx", sheet = 2)
# View(ANN_parameters)
mgwm <- conversion_factors[conversion_factors$Conversion_factors == "J / mgWM", c("Taxon", "Mean")]
mgc <- conversion_factors[conversion_factors$Conversion_factors == "J / mgC", c("Taxon", "Mean")]
ANN_parameters$ConFac_j2mgwm <- mgwm[match(ANN_parameters$Taxon, mgwm$Taxon), "Mean"]
ANN_parameters$ConFac_j2mgc  <- mgc[match(ANN_parameters$Taxon, mgc$Taxon), "Mean"]
# match is confusing as fuck
# let match(a, b)
# in brief, match tells you the new location of b in terms of a
use_data(ANN_parameters, overwrite = T)
